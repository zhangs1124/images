---
trigger: always_on
---

# 專案規則 - Nano Banana Prompt 資料庫

## 🎯 兩種工作模式

### 模式 1：互動引導模式（一問一答）

**觸發條件**：使用者說法模糊或明確要求引導

**觸發關鍵詞**：
- ✅ 「幫我生成一張圖片」（沒有具體描述）
- ✅ 「引導我生圖」
- ✅ 「我想做一張圖，但不知道怎麼描述」
- ✅ 「不確定要什麼風格」
- ✅ 「給我一些選項」

**行動**：
1. 啟動 image-generation-guide.md 流程
2. 詢問類型、細節、風格
3. 提供 2-3 個選項
4. 等待使用者選擇
5. 生成圖片

---

### 模式 2：直接美化模式（快速執行）

**觸發條件**：使用者提供具體描述

**觸發關鍵詞**：
- ✅ 「生成【具體描述】」
- ✅ 「做一張【具體內容】的照片」
- ✅ 「我要【具體需求】」
- ✅ 「幫我美化這個 Prompt：【內容】」
- ✅ 「優化：【簡單描述】」

**行動**：
1. 識別關鍵詞（產品/美食/風景等）
2. 查看 prompt.md 對應章節
3. 使用資料庫 Prompt 美化
4. 直接生成圖片
5. 生成後詢問是否需要調整

---

### 模式 3：只優化 Prompt（不生成）

**觸發關鍵詞**：
- ✅ 「優化這個 Prompt：【內容】」
- ✅ 「美化這個描述：【內容】」
- ✅ 「幫我改進：【內容】」
- ✅ 「這個 Prompt 怎麼寫更好：【內容】」

**行動**：
1. 查看 prompt-optimizer.md
2. 提供優化後的 Prompt（中英文）
3. 不自動生成圖片
4. 詢問：「要我用這個 Prompt 生成圖片嗎？」

---

## 📸 圖片生成規則

### 每次生圖後的必要動作
1. ✅ **自動儲存到本地**
   - 將生成的圖片複製到 `d:\project\首尾\` 目錄
   - 使用有意義的檔名（例如：`pasta_professional_food.png`）
   - 確認複製成功

2. ✅ **記錄使用的 Prompt**
   - 告訴使用者使用了哪個 Prompt
   - 標註來自 prompt.md 的哪個章節
   - 如果是新的 Prompt，考慮是否加入資料庫

---

## 🌐 網址更新規則

### 當使用者上傳新網址時

1. ✅ **更新 url.md**
   - 將新網址加入對應分類
   - 標註語言、內容類型、特色
   - 標記整理狀態（已整理/整理中）

2. ✅ **更新 prompt.md**
   - 從新網址提取有價值的 Prompt
   - 加入對應章節（影像效果/圖片編輯/產業專屬/進階技巧）
   - 更新版本號和更新日誌

3. ✅ **更新 prompt-optimizer.md**
   - 如果有新的優化技巧或模板
   - 加入對應的優化模板
   - 更新版本號

---

## 📚 資料庫參考規則

### 何時必須參考資料庫

**產業關鍵詞**（自動查看對應章節）：
- ✅ 「電商」、「產品照」→ prompt.md > 電商
- ✅ 「美食」、「菜單」、「料理」→ prompt.md > 餐飲
- ✅ 「室內設計」、「房地產」→ prompt.md > 房地產
- ✅ 「服裝」、「穿搭」→ prompt.md > 時尚
- ✅ 「IG 貼文」、「社交媒體」→ prompt.md > 社交媒體

**進階技巧關鍵詞**：
- ✅ 「JSON」→ prompt.md > JSON 格式 Prompt
- ✅ 「電影分鏡」、「3x3」→ prompt.md > 電影分鏡
- ✅ 「Pop-Art」→ prompt.md > Pop-Art 疊加

### 參考資料庫的標準流程

1. **識別關鍵詞**
2. **使用 view_file 或 grep_search 查看 prompt.md**
3. **找到對應章節的具體 Prompt**
4. **根據需求調整 Prompt**
5. **告訴使用者來源**：「我參考了 prompt.md 的【章節】Prompt」

---

## 🎯 判斷流程圖

```
使用者輸入
    ↓
判斷：是否包含具體描述？
    ↓
├─ 否（模糊）→ 啟動互動引導模式
│   └─ 詢問類型 → 詢問細節 → 提供選項 → 生成
│
├─ 是（具體）→ 直接美化模式
│   └─ 識別關鍵詞 → 查看資料庫 → 美化 → 生成
│
└─ 只要優化 → 只優化模式
    └─ 提供優化 Prompt → 詢問是否生成
```

---

## 📝 實際範例

### 範例 1：模糊描述 → 互動引導

```
使用者：「幫我生成一張圖片」
AI：啟動引導模式
AI：「請選擇類型：產品/美食/風景...」
（一問一答）
```

### 範例 2：具體描述 → 直接美化

```
使用者：「生成一張牛排的菜單照片」
AI：識別：美食 + 菜單
AI：查看 prompt.md > 餐飲 > 菜單美食攝影
AI：美化 Prompt
AI：直接生成
AI：「✅ 已生成！參考了 prompt.md 的餐飲章節。需要調整嗎？」
```

### 範例 3：只要優化 → 不生成

```
使用者：「優化這個 Prompt：一隻貓在花園」
AI：查看 prompt-optimizer.md
AI：提供優化後的 Prompt（中英文）
AI：「要我用這個 Prompt 生成圖片嗎？」
```

### 範例 4：簡單但明確 → 直接美化

```
使用者：「咖啡照片」
AI：識別：美食/飲品
AI：查看 prompt.md > 餐飲 > 飲品視覺化
AI：選擇最常用風格
AI：直接生成
AI：「✅ 已生成專業飲品攝影風格。需要換成 IG 風格嗎？」
```

---

## ⚠️ 重要提醒

### 永遠記住

1. **判斷使用者意圖**
   - 模糊 → 引導
   - 具體 → 直接執行
   - 只要優化 → 不生成

2. **每次都參考資料庫**
   - 不要憑記憶創作
   - 使用 view_file 查看 prompt.md

3. **明確告知使用者**
   - 使用了哪個模式
   - 參考了哪個 Prompt
   - 如何調整或換風格

4. **生成後都要問**
   - 「滿意嗎？」
   - 「需要調整嗎？」
   - 「要換個風格嗎？」

---

**最後更新**：2025-12-11
**版本**：v2.1 - 明確定義三種工作模式
